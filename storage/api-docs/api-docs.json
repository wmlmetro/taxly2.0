{
    "openapi": "3.0.0",
    "info": {
        "title": "Taxly API",
        "description": "API documentation for Taxly platform",
        "version": "1.0.0"
    },
    "servers": [
        {
            "url": "http://taxly.test",
            "description": "Local Server"
        },
        {
            "url": "https://dev.taxly.ng",
            "description": "Development Server"
        },
        {
            "url": "https://taxly.ng",
            "description": "Production Server"
        }
    ],
    "paths": {
        "/api/v1/auth/register": {
            "post": {
                "tags": [
                    "Auth"
                ],
                "summary": "Register a new tenant, organization, and user",
                "operationId": "fb835c97347e657e2a627790c4c5817a",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "email",
                                    "password"
                                ],
                                "properties": {
                                    "tenant_name": {
                                        "type": "string",
                                        "example": "Acme Corp"
                                    },
                                    "email": {
                                        "type": "string",
                                        "format": "email",
                                        "example": "your firs e-invoice login email"
                                    },
                                    "password": {
                                        "type": "string",
                                        "format": "password",
                                        "example": "your firs e-invoice login password"
                                    },
                                    "password_confirmation": {
                                        "type": "string",
                                        "format": "password",
                                        "example": "your firs e-invoice login password"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Tenant, organization, and user created successfully",
                        "content": {
                            "application/json": {
                                "schema": {},
                                "example": {
                                    "message": "Tenant, organization, and user created successfully",
                                    "success": true,
                                    "data": {
                                        "tenant": {
                                            "id": 1,
                                            "name": "Acme Corp",
                                            "email": "john@example.com",
                                            "brand": "Acme Brand",
                                            "domain": "acme.com",
                                            "entity_id": "123456"
                                        },
                                        "organization": {
                                            "id": 1,
                                            "service_id": "svc-001",
                                            "registration_number": "REG-123456",
                                            "email": "john@example.com",
                                            "phone": "+1234567890",
                                            "street_name": "123 Main St",
                                            "city_name": "Metropolis",
                                            "postal_zone": "12345",
                                            "description": "Main office"
                                        },
                                        "user": {
                                            "id": 1,
                                            "name": "John Doe",
                                            "email": "john@example.com"
                                        },
                                        "token": "1|XyzExampleToken..."
                                    }
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation errors"
                    }
                }
            }
        },
        "/api/v1/auth/login": {
            "post": {
                "tags": [
                    "Auth"
                ],
                "summary": "Login user",
                "operationId": "fb66b153966d9fac2e999136ef0ade67",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "email",
                                    "password"
                                ],
                                "properties": {
                                    "email": {
                                        "type": "string",
                                        "format": "email",
                                        "example": "your firs e-invoice login email"
                                    },
                                    "password": {
                                        "type": "string",
                                        "format": "password",
                                        "example": "your firs e-invoice login password"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Login successful",
                        "content": {
                            "application/json": {
                                "schema": {},
                                "example": {
                                    "message": "User logged in successfully",
                                    "success": true,
                                    "data": {
                                        "user": {
                                            "id": 1,
                                            "name": "John Doe",
                                            "email": "john@example.com"
                                        },
                                        "token": "1|XyzExampleToken..."
                                    }
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Invalid credentials"
                    }
                }
            }
        },
        "/api/v1/auth/me": {
            "get": {
                "tags": [
                    "Auth"
                ],
                "summary": "Get current authenticated user",
                "operationId": "5389aaa95512ef0b6ec88f262ecee7f0",
                "responses": {
                    "200": {
                        "description": "User details",
                        "content": {
                            "application/json": {
                                "schema": {},
                                "example": {
                                    "message": "User retrieved successfully",
                                    "success": true,
                                    "data": {
                                        "id": 1,
                                        "name": "John Doe",
                                        "email": "john@example.com",
                                        "organization": {
                                            "id": 1,
                                            "legal_name": "Head Office",
                                            "tenant": {
                                                "id": 1,
                                                "name": "Acme Corp"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            }
        },
        "/api/v1/auth/logout": {
            "post": {
                "tags": [
                    "Auth"
                ],
                "summary": "Logout user",
                "operationId": "307ed0512855922b2280792376bb2095",
                "responses": {
                    "200": {
                        "description": "Logged out successfully"
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            }
        },
        "/api/v1/auth/tax-payer-login": {
            "post": {
                "tags": [
                    "Auth"
                ],
                "summary": "Tax Payer Login",
                "operationId": "a96db8e6722c264fc1a15bb2d927fdd3",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "email",
                                    "password"
                                ],
                                "properties": {
                                    "email": {
                                        "type": "string",
                                        "format": "email",
                                        "example": "your firs e-invoice login email"
                                    },
                                    "password": {
                                        "type": "string",
                                        "format": "password",
                                        "example": "your firs e-invoice login password"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Login successful",
                        "content": {
                            "application/json": {
                                "schema": {},
                                "example": {
                                    "message": "User logged in successfully",
                                    "success": true,
                                    "data": {
                                        "id": "********-323c-****-9061-***********",
                                        "status": "200 OK",
                                        "message": "User logged in",
                                        "received_at": "2025-10-21T16:01:56.517426199+01:00",
                                        "entity_id": "********-b06e-****-a89d-***********"
                                    }
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Invalid credentials"
                    }
                }
            }
        },
        "/api/v1/buyer/invoices/{invoice}/accept": {
            "post": {
                "tags": [
                    "Buyer"
                ],
                "summary": "Accept an invoice",
                "operationId": "cf3235c0dc12d6c71ae6f9f2800b5378",
                "parameters": [
                    {
                        "name": "invoice",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Invoice accepted",
                        "content": {
                            "application/json": {
                                "schema": {},
                                "example": {
                                    "message": "Invoice accepted",
                                    "success": true,
                                    "data": {
                                        "id": 1,
                                        "status": "accepted"
                                    }
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    },
                    {
                        "ApiKeyAuth": []
                    }
                ]
            }
        },
        "/api/v1/buyer/invoices/{invoice}/reject": {
            "post": {
                "tags": [
                    "Buyer"
                ],
                "summary": "Reject an invoice",
                "operationId": "f1e1f9a3c96988c5f3d1664a83c87ded",
                "parameters": [
                    {
                        "name": "invoice",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Invoice rejected",
                        "content": {
                            "application/json": {
                                "schema": {},
                                "example": {
                                    "message": "Invoice rejected",
                                    "success": true,
                                    "data": {
                                        "id": 1,
                                        "status": "rejected"
                                    }
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    },
                    {
                        "ApiKeyAuth": []
                    }
                ]
            }
        },
        "/api/v1/invoices/search/{business_id}": {
            "get": {
                "tags": [
                    "Invoices"
                ],
                "summary": "Search for invoices from FIRS",
                "operationId": "b6a28e80d73ecc2322b3a06c2eed65d1",
                "parameters": [
                    {
                        "name": "business_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "201": {
                        "description": "Invoice created",
                        "content": {
                            "application/json": {
                                "schema": {},
                                "example": {
                                    "code": 200,
                                    "data": {
                                        "items": [
                                            {
                                                "irn": "INV000002-94019CE5-20250911",
                                                "payment_status": "PAID",
                                                "entry_status": "TRANSMITTING",
                                                "invoice_type_code": "396",
                                                "issue_date": "2025-09-10T00:00:00Z",
                                                "issue_time": "17:59:04",
                                                "due_date": "2025-09-17T00:00:00Z",
                                                "sync_date": "2025-09-11",
                                                "document_currency_code": "NGN",
                                                "tax_currency_code": "NGN"
                                            }
                                        ],
                                        "page": {
                                            "page": 1,
                                            "size": 10,
                                            "hasNextPage": false,
                                            "hasPreviousPage": false,
                                            "totalCount": 6
                                        },
                                        "attributes": null
                                    },
                                    "message": "Invoices loaded successfully"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    },
                    {
                        "ApiKeyAuth": []
                    }
                ]
            }
        },
        "/api/v1/invoices/irn/validate": {
            "post": {
                "tags": [
                    "Invoices"
                ],
                "summary": "Validate an invoice IRN on FIRS",
                "operationId": "129a56fc79be847924a862007dd5e306",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "business_id",
                                    "invoice_reference",
                                    "irn"
                                ],
                                "properties": {
                                    "business_id": {
                                        "description": "Business ID",
                                        "type": "string",
                                        "example": "414a50c3-9ce5-49ec-9ccb-37c28f7cf6be"
                                    },
                                    "invoice_reference": {
                                        "description": "Invoice reference",
                                        "type": "string",
                                        "example": "INV000002"
                                    },
                                    "irn": {
                                        "description": "Invoice Registration Number",
                                        "type": "string",
                                        "example": "INV000002-94019CE5-20250911"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "IRN validated successfully",
                        "content": {
                            "application/json": {
                                "schema": {},
                                "example": {
                                    "code": 200,
                                    "data": {
                                        "ok": true
                                    },
                                    "message": "IRN validated successfully"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    },
                    {
                        "ApiKeyAuth": []
                    }
                ]
            }
        },
        "/api/v1/invoices/validate": {
            "post": {
                "tags": [
                    "Invoices"
                ],
                "summary": "Validate an invoice on FIRS",
                "operationId": "5471d2dda935a5a5c96edd4d66c123ad",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "channel",
                                    "business_id",
                                    "invoice_reference",
                                    "irn",
                                    "issue_date",
                                    "invoice_type_code",
                                    "document_currency_code",
                                    "accounting_supplier_party",
                                    "legal_monetary_total",
                                    "invoice_line"
                                ],
                                "properties": {
                                    "channel": {
                                        "description": "Submission channel",
                                        "type": "string",
                                        "example": "api"
                                    },
                                    "business_id": {
                                        "description": "Business ID",
                                        "type": "string",
                                        "example": "414a50c3-9ce5-49ec-9ccb-37c28f7cf6be"
                                    },
                                    "invoice_reference": {
                                        "description": "Invoice reference",
                                        "type": "string",
                                        "example": "INV000002"
                                    },
                                    "irn": {
                                        "description": "Invoice Registration Number",
                                        "type": "string",
                                        "example": "INV000002-94019CE5-20250911"
                                    },
                                    "issue_date": {
                                        "description": "Issue date",
                                        "type": "string",
                                        "format": "date",
                                        "example": "2025-09-10"
                                    },
                                    "due_date": {
                                        "description": "Due date (optional)",
                                        "type": "string",
                                        "format": "date",
                                        "example": "2025-09-17"
                                    },
                                    "issue_time": {
                                        "description": "Issue time (optional)",
                                        "type": "string",
                                        "format": "time",
                                        "example": "17:59:04"
                                    },
                                    "invoice_type_code": {
                                        "description": "Invoice type code",
                                        "type": "string",
                                        "example": "396"
                                    },
                                    "payment_status": {
                                        "description": "Payment status (optional, defaults to pending)",
                                        "type": "string",
                                        "example": "PENDING"
                                    },
                                    "note": {
                                        "description": "Note (optional, will be encrypted)",
                                        "type": "string",
                                        "example": "dummy_note (will be encryted in storage)"
                                    },
                                    "tax_point_date": {
                                        "description": "Tax point date (optional)",
                                        "type": "string",
                                        "format": "date",
                                        "example": "2025-09-10"
                                    },
                                    "document_currency_code": {
                                        "description": "Document currency code",
                                        "type": "string",
                                        "example": "NGN"
                                    },
                                    "tax_currency_code": {
                                        "description": "Tax currency code (optional)",
                                        "type": "string",
                                        "example": "NGN"
                                    },
                                    "accounting_cost": {
                                        "description": "Accounting cost (optional)",
                                        "type": "string",
                                        "example": "2000"
                                    },
                                    "buyer_reference": {
                                        "description": "Buyer reference (optional)",
                                        "type": "string",
                                        "example": "buyer REF IRN?"
                                    },
                                    "invoice_delivery_period": {
                                        "description": "Invoice delivery period (optional)",
                                        "properties": {
                                            "start_date": {
                                                "type": "string",
                                                "format": "date",
                                                "example": "2025-09-17"
                                            },
                                            "end_date": {
                                                "type": "string",
                                                "format": "date",
                                                "example": "2025-09-21"
                                            }
                                        },
                                        "type": "object"
                                    },
                                    "order_reference": {
                                        "description": "Order reference (optional)",
                                        "type": "string",
                                        "example": "order REF IRN?"
                                    },
                                    "billing_reference": {
                                        "description": "Billing reference (optional)",
                                        "type": "array",
                                        "items": {
                                            "properties": {
                                                "irn": {
                                                    "type": "string",
                                                    "example": "INV000002-94019CE5-20250911"
                                                },
                                                "issue_date": {
                                                    "type": "string",
                                                    "format": "date",
                                                    "example": "2025-09-10"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "dispatch_document_reference": {
                                        "description": "Dispatch document reference (optional)",
                                        "properties": {
                                            "irn": {
                                                "type": "string",
                                                "example": "INV000002-94019CE5-20250911"
                                            },
                                            "issue_date": {
                                                "type": "string",
                                                "format": "date",
                                                "example": "2025-09-10"
                                            }
                                        },
                                        "type": "object"
                                    },
                                    "receipt_document_reference": {
                                        "description": "Receipt document reference (optional)",
                                        "properties": {
                                            "irn": {
                                                "type": "string",
                                                "example": "INV000002-94019CE5-20250911"
                                            },
                                            "issue_date": {
                                                "type": "string",
                                                "format": "date",
                                                "example": "2025-09-10"
                                            }
                                        },
                                        "type": "object"
                                    },
                                    "originator_document_reference": {
                                        "description": "Originator document reference (optional)",
                                        "properties": {
                                            "irn": {
                                                "type": "string",
                                                "example": "INV000002-94019CE5-20250911"
                                            },
                                            "issue_date": {
                                                "type": "string",
                                                "format": "date",
                                                "example": "2025-09-10"
                                            }
                                        },
                                        "type": "object"
                                    },
                                    "contract_document_reference": {
                                        "description": "Contract document reference (optional)",
                                        "properties": {
                                            "irn": {
                                                "type": "string",
                                                "example": "INV000002-94019CE5-20250911"
                                            },
                                            "issue_date": {
                                                "type": "string",
                                                "format": "date",
                                                "example": "2025-09-10"
                                            }
                                        },
                                        "type": "object"
                                    },
                                    "_document_reference": {
                                        "description": "Document reference (optional)",
                                        "type": "array",
                                        "items": {
                                            "properties": {
                                                "irn": {
                                                    "type": "string",
                                                    "example": "INV000002-94019CE5-20250911"
                                                },
                                                "issue_date": {
                                                    "type": "string",
                                                    "format": "date",
                                                    "example": "2025-09-10"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "accounting_supplier_party": {
                                        "description": "Accounting supplier party",
                                        "properties": {
                                            "party_name": {
                                                "type": "string",
                                                "example": "Aliquam aspernatur"
                                            },
                                            "tin": {
                                                "type": "string",
                                                "example": "01122228-7187"
                                            },
                                            "email": {
                                                "type": "string",
                                                "example": "damolaabolarin1@gmail.com"
                                            },
                                            "telephone": {
                                                "description": "Must start with + (country code)",
                                                "type": "string",
                                                "example": "+2348187136111"
                                            },
                                            "business_description": {
                                                "type": "string",
                                                "example": "this entity is into sales of Inverter gadgets and installation."
                                            },
                                            "postal_address": {
                                                "properties": {
                                                    "street_name": {
                                                        "type": "string",
                                                        "example": "123 Main St"
                                                    },
                                                    "city_name": {
                                                        "type": "string",
                                                        "example": "Metropolis"
                                                    },
                                                    "postal_zone": {
                                                        "type": "string",
                                                        "example": "12345"
                                                    },
                                                    "country": {
                                                        "type": "string",
                                                        "example": "NG"
                                                    }
                                                },
                                                "type": "object"
                                            }
                                        },
                                        "type": "object"
                                    },
                                    "accounting_customer_party": {
                                        "description": "Accounting customer party",
                                        "properties": {
                                            "party_name": {
                                                "type": "string",
                                                "example": "Westmetro"
                                            },
                                            "tin": {
                                                "type": "string",
                                                "example": "17883307-0001"
                                            },
                                            "email": {
                                                "type": "string",
                                                "example": "business@email.com"
                                            },
                                            "telephone": {
                                                "description": "Must start with + (country code)",
                                                "type": "string",
                                                "example": "+23480254000000"
                                            },
                                            "business_description": {
                                                "type": "string",
                                                "example": "this entity is into sales of Cement and building materials"
                                            },
                                            "postal_address": {
                                                "properties": {
                                                    "street_name": {
                                                        "type": "string",
                                                        "example": "32, owonikoko street"
                                                    },
                                                    "city_name": {
                                                        "type": "string",
                                                        "example": "Gwarikpa"
                                                    },
                                                    "postal_zone": {
                                                        "type": "string",
                                                        "example": "023401"
                                                    },
                                                    "country": {
                                                        "type": "string",
                                                        "example": "NG"
                                                    }
                                                },
                                                "type": "object"
                                            }
                                        },
                                        "type": "object"
                                    },
                                    "actual_delivery_date": {
                                        "description": "Actual delivery date (optional)",
                                        "type": "string",
                                        "format": "date",
                                        "example": "2025-09-10"
                                    },
                                    "payment_means": {
                                        "description": "Payment means (optional)",
                                        "type": "array",
                                        "items": {
                                            "properties": {
                                                "payment_means_code": {
                                                    "type": "string",
                                                    "example": "10"
                                                },
                                                "payment_due_date": {
                                                    "type": "string",
                                                    "format": "date",
                                                    "example": "2025-09-10"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "payment_terms_note": {
                                        "description": "Payment terms note (optional, will be encrypted)",
                                        "type": "string",
                                        "example": "dummy payment terms note (will be encryted in storage)"
                                    },
                                    "allowance_charge": {
                                        "description": "Allowance/charge (optional)",
                                        "type": "array",
                                        "items": {
                                            "properties": {
                                                "charge_indicator": {
                                                    "description": "true=charge, false=allowance",
                                                    "type": "boolean",
                                                    "example": true
                                                },
                                                "amount": {
                                                    "type": "number",
                                                    "format": "float",
                                                    "example": 1465230
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "tax_total": {
                                        "description": "Tax total (optional)",
                                        "type": "array",
                                        "items": {
                                            "properties": {
                                                "tax_amount": {
                                                    "type": "number",
                                                    "format": "float",
                                                    "example": 56.07
                                                },
                                                "tax_subtotal": {
                                                    "type": "array",
                                                    "items": {
                                                        "properties": {
                                                            "taxable_amount": {
                                                                "type": "number",
                                                                "format": "float",
                                                                "example": 1200000
                                                            },
                                                            "tax_amount": {
                                                                "type": "number",
                                                                "format": "float",
                                                                "example": 8
                                                            },
                                                            "tax_category": {
                                                                "properties": {
                                                                    "id": {
                                                                        "type": "string",
                                                                        "example": "LOCAL_SALES_TAX"
                                                                    },
                                                                    "percent": {
                                                                        "type": "number",
                                                                        "format": "float",
                                                                        "example": 7.5
                                                                    }
                                                                },
                                                                "type": "object"
                                                            }
                                                        },
                                                        "type": "object"
                                                    }
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "legal_monetary_total": {
                                        "description": "Legal monetary total (required)",
                                        "properties": {
                                            "tax_exclusive_amount": {
                                                "type": "number",
                                                "format": "float",
                                                "example": 1460000
                                            },
                                            "tax_inclusive_amount": {
                                                "type": "number",
                                                "format": "float",
                                                "example": 1465230
                                            },
                                            "line_extension_amount": {
                                                "type": "number",
                                                "format": "float",
                                                "example": 1460000
                                            },
                                            "payable_amount": {
                                                "type": "number",
                                                "format": "float",
                                                "example": 1465230
                                            }
                                        },
                                        "type": "object"
                                    },
                                    "invoice_line": {
                                        "description": "Invoice lines (required)",
                                        "type": "array",
                                        "items": {
                                            "properties": {
                                                "hsn_code": {
                                                    "type": "string",
                                                    "example": "WM-001"
                                                },
                                                "product_category": {
                                                    "type": "string",
                                                    "example": "Inverter"
                                                },
                                                "discount_rate": {
                                                    "type": "number",
                                                    "format": "float",
                                                    "example": 0
                                                },
                                                "discount_amount": {
                                                    "type": "number",
                                                    "format": "float",
                                                    "example": 0
                                                },
                                                "fee_rate": {
                                                    "type": "number",
                                                    "format": "float",
                                                    "example": 1.01
                                                },
                                                "fee_amount": {
                                                    "type": "number",
                                                    "format": "float",
                                                    "example": 50
                                                },
                                                "invoiced_quantity": {
                                                    "type": "integer",
                                                    "example": 5
                                                },
                                                "line_extension_amount": {
                                                    "type": "number",
                                                    "format": "float",
                                                    "example": 1465230
                                                },
                                                "item": {
                                                    "properties": {
                                                        "name": {
                                                            "type": "string",
                                                            "example": "Solar invert "
                                                        },
                                                        "description": {
                                                            "type": "string",
                                                            "example": "item description"
                                                        },
                                                        "sellers_item_identification": {
                                                            "type": "string",
                                                            "example": "identified as spoon by the seller"
                                                        }
                                                    },
                                                    "type": "object"
                                                },
                                                "price": {
                                                    "properties": {
                                                        "price_amount": {
                                                            "type": "number",
                                                            "format": "float",
                                                            "example": 1465230
                                                        },
                                                        "base_quantity": {
                                                            "type": "integer",
                                                            "example": 1
                                                        },
                                                        "price_unit": {
                                                            "type": "string",
                                                            "example": "NGN per 1"
                                                        }
                                                    },
                                                    "type": "object"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Invoice submitted successfully",
                        "content": {
                            "application/json": {
                                "schema": {},
                                "example": {
                                    "code": 200,
                                    "data": {
                                        "ok": true
                                    },
                                    "message": "Invoice signed successfully"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    },
                    {
                        "ApiKeyAuth": []
                    }
                ]
            }
        },
        "/api/v1/invoices/submit": {
            "post": {
                "tags": [
                    "Invoices"
                ],
                "summary": "Submit an invoice to FIRS",
                "description": "Calling the submit invoice endpoint, it will first of all validate the IRN, then validate the Invoice and finally submit the invoice",
                "operationId": "611dc1512454af4fa0d546cac944e239",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "channel",
                                    "business_id",
                                    "invoice_reference",
                                    "irn",
                                    "issue_date",
                                    "invoice_type_code",
                                    "document_currency_code",
                                    "accounting_supplier_party",
                                    "legal_monetary_total",
                                    "invoice_line"
                                ],
                                "properties": {
                                    "channel": {
                                        "description": "Submission channel",
                                        "type": "string",
                                        "example": "api"
                                    },
                                    "business_id": {
                                        "description": "Business ID",
                                        "type": "string",
                                        "example": "414a50c3-9ce5-49ec-9ccb-37c28f7cf6be"
                                    },
                                    "invoice_reference": {
                                        "description": "Invoice reference",
                                        "type": "string",
                                        "example": "INV000002"
                                    },
                                    "irn": {
                                        "description": "Invoice Registration Number",
                                        "type": "string",
                                        "example": "INV000002-94019CE5-20250911"
                                    },
                                    "issue_date": {
                                        "description": "Issue date",
                                        "type": "string",
                                        "format": "date",
                                        "example": "2025-09-10"
                                    },
                                    "due_date": {
                                        "description": "Due date (optional)",
                                        "type": "string",
                                        "format": "date",
                                        "example": "2025-09-17"
                                    },
                                    "issue_time": {
                                        "description": "Issue time (optional)",
                                        "type": "string",
                                        "format": "time",
                                        "example": "17:59:04"
                                    },
                                    "invoice_type_code": {
                                        "description": "Invoice type code",
                                        "type": "string",
                                        "example": "396"
                                    },
                                    "payment_status": {
                                        "description": "Payment status (optional, defaults to pending)",
                                        "type": "string",
                                        "example": "PENDING"
                                    },
                                    "note": {
                                        "description": "Note (optional, will be encrypted)",
                                        "type": "string",
                                        "example": "dummy_note (will be encryted in storage)"
                                    },
                                    "tax_point_date": {
                                        "description": "Tax point date (optional)",
                                        "type": "string",
                                        "format": "date",
                                        "example": "2025-09-10"
                                    },
                                    "document_currency_code": {
                                        "description": "Document currency code",
                                        "type": "string",
                                        "example": "NGN"
                                    },
                                    "tax_currency_code": {
                                        "description": "Tax currency code (optional)",
                                        "type": "string",
                                        "example": "NGN"
                                    },
                                    "accounting_cost": {
                                        "description": "Accounting cost (optional)",
                                        "type": "string",
                                        "example": "2000"
                                    },
                                    "buyer_reference": {
                                        "description": "Buyer reference (optional)",
                                        "type": "string",
                                        "example": "buyer REF IRN?"
                                    },
                                    "invoice_delivery_period": {
                                        "description": "Invoice delivery period (optional)",
                                        "properties": {
                                            "start_date": {
                                                "type": "string",
                                                "format": "date",
                                                "example": "2025-09-17"
                                            },
                                            "end_date": {
                                                "type": "string",
                                                "format": "date",
                                                "example": "2025-09-21"
                                            }
                                        },
                                        "type": "object"
                                    },
                                    "order_reference": {
                                        "description": "Order reference (optional)",
                                        "type": "string",
                                        "example": "order REF IRN?"
                                    },
                                    "billing_reference": {
                                        "description": "Billing reference (optional)",
                                        "type": "array",
                                        "items": {
                                            "properties": {
                                                "irn": {
                                                    "type": "string",
                                                    "example": "INV000002-94019CE5-20250911"
                                                },
                                                "issue_date": {
                                                    "type": "string",
                                                    "format": "date",
                                                    "example": "2025-09-10"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "dispatch_document_reference": {
                                        "description": "Dispatch document reference (optional)",
                                        "properties": {
                                            "irn": {
                                                "type": "string",
                                                "example": "INV000002-94019CE5-20250911"
                                            },
                                            "issue_date": {
                                                "type": "string",
                                                "format": "date",
                                                "example": "2025-09-10"
                                            }
                                        },
                                        "type": "object"
                                    },
                                    "receipt_document_reference": {
                                        "description": "Receipt document reference (optional)",
                                        "properties": {
                                            "irn": {
                                                "type": "string",
                                                "example": "INV000002-94019CE5-20250911"
                                            },
                                            "issue_date": {
                                                "type": "string",
                                                "format": "date",
                                                "example": "2025-09-10"
                                            }
                                        },
                                        "type": "object"
                                    },
                                    "originator_document_reference": {
                                        "description": "Originator document reference (optional)",
                                        "properties": {
                                            "irn": {
                                                "type": "string",
                                                "example": "INV000002-94019CE5-20250911"
                                            },
                                            "issue_date": {
                                                "type": "string",
                                                "format": "date",
                                                "example": "2025-09-10"
                                            }
                                        },
                                        "type": "object"
                                    },
                                    "contract_document_reference": {
                                        "description": "Contract document reference (optional)",
                                        "properties": {
                                            "irn": {
                                                "type": "string",
                                                "example": "INV000002-94019CE5-20250911"
                                            },
                                            "issue_date": {
                                                "type": "string",
                                                "format": "date",
                                                "example": "2025-09-10"
                                            }
                                        },
                                        "type": "object"
                                    },
                                    "_document_reference": {
                                        "description": "Document reference (optional)",
                                        "type": "array",
                                        "items": {
                                            "properties": {
                                                "irn": {
                                                    "type": "string",
                                                    "example": "INV000002-94019CE5-20250911"
                                                },
                                                "issue_date": {
                                                    "type": "string",
                                                    "format": "date",
                                                    "example": "2025-09-10"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "accounting_supplier_party": {
                                        "description": "Accounting supplier party",
                                        "properties": {
                                            "party_name": {
                                                "type": "string",
                                                "example": "Aliquam aspernatur"
                                            },
                                            "tin": {
                                                "type": "string",
                                                "example": "01122228-7187"
                                            },
                                            "email": {
                                                "type": "string",
                                                "example": "damolaabolarin1@gmail.com"
                                            },
                                            "telephone": {
                                                "description": "Must start with + (country code)",
                                                "type": "string",
                                                "example": "+2348187136111"
                                            },
                                            "business_description": {
                                                "type": "string",
                                                "example": "this entity is into sales of Inverter gadgets and installation."
                                            },
                                            "postal_address": {
                                                "properties": {
                                                    "street_name": {
                                                        "type": "string",
                                                        "example": "123 Main St"
                                                    },
                                                    "city_name": {
                                                        "type": "string",
                                                        "example": "Metropolis"
                                                    },
                                                    "postal_zone": {
                                                        "type": "string",
                                                        "example": "12345"
                                                    },
                                                    "country": {
                                                        "type": "string",
                                                        "example": "NG"
                                                    }
                                                },
                                                "type": "object"
                                            }
                                        },
                                        "type": "object"
                                    },
                                    "accounting_customer_party": {
                                        "description": "Accounting customer party",
                                        "properties": {
                                            "party_name": {
                                                "type": "string",
                                                "example": "Westmetro"
                                            },
                                            "tin": {
                                                "type": "string",
                                                "example": "17883307-0001"
                                            },
                                            "email": {
                                                "type": "string",
                                                "example": "business@email.com"
                                            },
                                            "telephone": {
                                                "description": "Must start with + (country code)",
                                                "type": "string",
                                                "example": "+23480254000000"
                                            },
                                            "business_description": {
                                                "type": "string",
                                                "example": "this entity is into sales of Cement and building materials"
                                            },
                                            "postal_address": {
                                                "properties": {
                                                    "street_name": {
                                                        "type": "string",
                                                        "example": "32, owonikoko street"
                                                    },
                                                    "city_name": {
                                                        "type": "string",
                                                        "example": "Gwarikpa"
                                                    },
                                                    "postal_zone": {
                                                        "type": "string",
                                                        "example": "023401"
                                                    },
                                                    "country": {
                                                        "type": "string",
                                                        "example": "NG"
                                                    }
                                                },
                                                "type": "object"
                                            }
                                        },
                                        "type": "object"
                                    },
                                    "actual_delivery_date": {
                                        "description": "Actual delivery date (optional)",
                                        "type": "string",
                                        "format": "date",
                                        "example": "2025-09-10"
                                    },
                                    "payment_means": {
                                        "description": "Payment means (optional)",
                                        "type": "array",
                                        "items": {
                                            "properties": {
                                                "payment_means_code": {
                                                    "type": "string",
                                                    "example": "10"
                                                },
                                                "payment_due_date": {
                                                    "type": "string",
                                                    "format": "date",
                                                    "example": "2025-09-10"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "payment_terms_note": {
                                        "description": "Payment terms note (optional, will be encrypted)",
                                        "type": "string",
                                        "example": "dummy payment terms note (will be encryted in storage)"
                                    },
                                    "allowance_charge": {
                                        "description": "Allowance/charge (optional)",
                                        "type": "array",
                                        "items": {
                                            "properties": {
                                                "charge_indicator": {
                                                    "description": "true=charge, false=allowance",
                                                    "type": "boolean",
                                                    "example": true
                                                },
                                                "amount": {
                                                    "type": "number",
                                                    "format": "float",
                                                    "example": 1465230
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "tax_total": {
                                        "description": "Tax total (optional)",
                                        "type": "array",
                                        "items": {
                                            "properties": {
                                                "tax_amount": {
                                                    "type": "number",
                                                    "format": "float",
                                                    "example": 56.07
                                                },
                                                "tax_subtotal": {
                                                    "type": "array",
                                                    "items": {
                                                        "properties": {
                                                            "taxable_amount": {
                                                                "type": "number",
                                                                "format": "float",
                                                                "example": 1200000
                                                            },
                                                            "tax_amount": {
                                                                "type": "number",
                                                                "format": "float",
                                                                "example": 8
                                                            },
                                                            "tax_category": {
                                                                "properties": {
                                                                    "id": {
                                                                        "type": "string",
                                                                        "example": "LOCAL_SALES_TAX"
                                                                    },
                                                                    "percent": {
                                                                        "type": "number",
                                                                        "format": "float",
                                                                        "example": 7.5
                                                                    }
                                                                },
                                                                "type": "object"
                                                            }
                                                        },
                                                        "type": "object"
                                                    }
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "legal_monetary_total": {
                                        "description": "Legal monetary total (required)",
                                        "properties": {
                                            "tax_exclusive_amount": {
                                                "type": "number",
                                                "format": "float",
                                                "example": 1460000
                                            },
                                            "tax_inclusive_amount": {
                                                "type": "number",
                                                "format": "float",
                                                "example": 1465230
                                            },
                                            "line_extension_amount": {
                                                "type": "number",
                                                "format": "float",
                                                "example": 1460000
                                            },
                                            "payable_amount": {
                                                "type": "number",
                                                "format": "float",
                                                "example": 1465230
                                            }
                                        },
                                        "type": "object"
                                    },
                                    "invoice_line": {
                                        "description": "Invoice lines (required)",
                                        "type": "array",
                                        "items": {
                                            "properties": {
                                                "hsn_code": {
                                                    "type": "string",
                                                    "example": "WM-001"
                                                },
                                                "product_category": {
                                                    "type": "string",
                                                    "example": "Inverter"
                                                },
                                                "discount_rate": {
                                                    "type": "number",
                                                    "format": "float",
                                                    "example": 0
                                                },
                                                "discount_amount": {
                                                    "type": "number",
                                                    "format": "float",
                                                    "example": 0
                                                },
                                                "fee_rate": {
                                                    "type": "number",
                                                    "format": "float",
                                                    "example": 1.01
                                                },
                                                "fee_amount": {
                                                    "type": "number",
                                                    "format": "float",
                                                    "example": 50
                                                },
                                                "invoiced_quantity": {
                                                    "type": "integer",
                                                    "example": 5
                                                },
                                                "line_extension_amount": {
                                                    "type": "number",
                                                    "format": "float",
                                                    "example": 1465230
                                                },
                                                "item": {
                                                    "properties": {
                                                        "name": {
                                                            "type": "string",
                                                            "example": "Solar invert "
                                                        },
                                                        "description": {
                                                            "type": "string",
                                                            "example": "item description"
                                                        },
                                                        "sellers_item_identification": {
                                                            "type": "string",
                                                            "example": "identified as spoon by the seller"
                                                        }
                                                    },
                                                    "type": "object"
                                                },
                                                "price": {
                                                    "properties": {
                                                        "price_amount": {
                                                            "type": "number",
                                                            "format": "float",
                                                            "example": 1465230
                                                        },
                                                        "base_quantity": {
                                                            "type": "integer",
                                                            "example": 1
                                                        },
                                                        "price_unit": {
                                                            "type": "string",
                                                            "example": "NGN per 1"
                                                        }
                                                    },
                                                    "type": "object"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Invoice submitted successfully",
                        "content": {
                            "application/json": {
                                "schema": {},
                                "example": {
                                    "code": 201,
                                    "data": {
                                        "ok": true
                                    },
                                    "message": "Invoice signed successfully"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    },
                    {
                        "ApiKeyAuth": []
                    }
                ]
            }
        },
        "/api/v1/invoices/transmit/health-check": {
            "get": {
                "tags": [
                    "Invoices"
                ],
                "summary": "Check the health of the FIRS transmission service",
                "operationId": "496ee692761df025626b8300683aecd9",
                "responses": {
                    "200": {
                        "description": "Health check succeeded",
                        "content": {
                            "application/json": {
                                "schema": {},
                                "example": {
                                    "code": 200,
                                    "data": {
                                        "ok": true,
                                        "item": []
                                    },
                                    "message": "Health check succeeded."
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    },
                    {
                        "ApiKeyAuth": []
                    }
                ]
            }
        },
        "/api/v1/invoices/transmit/{IRN}/lookup": {
            "get": {
                "tags": [
                    "Invoices"
                ],
                "summary": "Retrieves details about the invoice and the involved parties.",
                "operationId": "ab1cfe2c53001a7c015fdf5a9e007722",
                "parameters": [
                    {
                        "name": "IRN",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Transmission parties loaded successfully",
                        "content": {
                            "application/json": {
                                "schema": {},
                                "example": {
                                    "code": 200,
                                    "data": {
                                        "accounting_supplier_party": [],
                                        "accounting_customer_party": []
                                    },
                                    "message": "Transmission parties loaded successfully."
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    },
                    {
                        "ApiKeyAuth": []
                    }
                ]
            }
        },
        "/api/v1/invoices/transmit/tin/{tin}/lookup": {
            "get": {
                "tags": [
                    "Invoices"
                ],
                "summary": "Retrieves details about the invoice and the involved parties.",
                "operationId": "e5f56b53679a4d1fd475f0277ca5ed3f",
                "parameters": [
                    {
                        "name": "tin",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Transmission parties loaded successfully",
                        "content": {
                            "application/json": {
                                "schema": {},
                                "example": {
                                    "code": 200,
                                    "data": {
                                        "accounting_supplier_party": [],
                                        "accounting_customer_party": []
                                    },
                                    "message": "Transmission parties loaded successfully."
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    },
                    {
                        "ApiKeyAuth": []
                    }
                ]
            }
        },
        "/api/v1/invoices/{irn}/transmit": {
            "post": {
                "tags": [
                    "Invoices"
                ],
                "summary": "Transmit an invoice using IRN on FIRS",
                "operationId": "97069858bdd729acd8e47161076e676a",
                "parameters": [
                    {
                        "name": "irn",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "requestBody": {
                    "required": false,
                    "content": {
                        "application/json": {
                            "schema": {
                                "properties": {
                                    "webhook_url": {
                                        "type": "string",
                                        "example": "https://example.com/webhook"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Invoice transmission",
                        "content": {
                            "application/json": {
                                "schema": {},
                                "example": {
                                    "code": 200,
                                    "data": {
                                        "ok": true
                                    },
                                    "message": "Invoice transmission started."
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    },
                    {
                        "ApiKeyAuth": []
                    }
                ]
            }
        },
        "/api/v1/invoices/{irn}/update": {
            "patch": {
                "tags": [
                    "Invoices"
                ],
                "summary": "Update an invoice using IRN on FIRS",
                "operationId": "137f065fbc1899e793ff8e6d603fda55",
                "parameters": [
                    {
                        "name": "irn",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "payment_status"
                                ],
                                "properties": {
                                    "payment_status": {
                                        "description": "PENDING, PAID, REJECTED",
                                        "type": "string",
                                        "example": "REJECTED"
                                    },
                                    "reference": {
                                        "description": "Payment reference or note",
                                        "type": "string",
                                        "example": "payment_reference_or_note"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Invoice updated successfully in FIRS",
                        "content": {
                            "application/json": {
                                "schema": {},
                                "example": {
                                    "code": 200,
                                    "data": {
                                        "ok": true
                                    },
                                    "message": "Invoice updated successfully in FIRS"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    },
                    {
                        "ApiKeyAuth": []
                    }
                ]
            }
        },
        "/api/v1/invoices/{irn}/confirm": {
            "get": {
                "tags": [
                    "Invoices"
                ],
                "summary": "Confirm an invoice using IRN on FIRS",
                "operationId": "a563866e5f59cc361350ed15dc69ded4",
                "parameters": [
                    {
                        "name": "irn",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Invoice confirmed successfully",
                        "content": {
                            "application/json": {
                                "schema": {},
                                "example": {
                                    "code": 200,
                                    "data": {
                                        "issue_date": "2025-09-10",
                                        "due_date": "2025-09-17",
                                        "sync_date": "2025-09-11",
                                        "payment_status": "PAID",
                                        "transmitted": false,
                                        "delivered": false
                                    },
                                    "message": "Invoice confirmation state from FIRS"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    },
                    {
                        "ApiKeyAuth": []
                    }
                ]
            }
        },
        "/api/v1/invoices/transmit/pull": {
            "get": {
                "tags": [
                    "Invoices"
                ],
                "summary": "List invoices transmitted to FIRS",
                "operationId": "ee59dc5f08a93d7d375da39cb72efc1e",
                "responses": {
                    "200": {
                        "description": "Transmitted Invoices pulled successfully",
                        "content": {
                            "application/json": {
                                "schema": {},
                                "example": {
                                    "code": 200,
                                    "data": {
                                        "ok": true,
                                        "item": []
                                    },
                                    "message": "Transmitted Invoices pulled successfully."
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    },
                    {
                        "ApiKeyAuth": []
                    }
                ]
            }
        },
        "/api/v1/invoices/{irn}/download": {
            "get": {
                "tags": [
                    "Invoices"
                ],
                "summary": "Download an invoice using IRN on FIRS",
                "operationId": "763862c191b544b26cc2630f9ebeb46c",
                "parameters": [
                    {
                        "name": "irn",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Invoice confirmed successfully",
                        "content": {
                            "application/json": {
                                "schema": {},
                                "example": {
                                    "code": 200,
                                    "data": {
                                        "iv_Hex": "6c56347537795245***************",
                                        "pub": "4hkj93SAoO6aj**********",
                                        "data": "sLhk-38XbtyBicR9u04GXqWwOkpFHHZn5BR4sGLEc0niGZ3CT5jHgeQ7KA2wwlA8FIoARdyXp9NU7697CPZAvNqaJJopDL9glX4xHd1eLKtzTgxQVq_a782P_lK5B1iBrSW7FfxEWxTbcpi-9GY38dq1AGahbpzo0rOAabJi0y-LK2c71oZJcW4eGmo0AG2X9WIwBz_RcYMcfgUy3wpuAgIiVnBWnOlXbFocrcRKUk6ujOWIUE74wTmrdfPAVOpqyLeSdc2IMje1jPvd1SirW5WN-L4mhiU2Cj90DHLllIGhSMreoLzYdfTyaMvGlCwHstM0rJZ8S6iwfYW9IzjaOvoyZhq7FFwUaWcvihbkeOQp-Y-8oTPrXBYNMaL8rm7RnlQanHvW8AAuYjXkaet2uFOe4pEuQKI8gb6ThtNCGQU8fn1y0uomgjvjbPjtvxL72BkI01IjJMPu5uVi2bHa-ndqq2KD5tjro-gQTJ2zktXXaH10-LrQJ6***************************************************************************************"
                                    },
                                    "message": "Invoice download from FIRS is successful"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    },
                    {
                        "ApiKeyAuth": []
                    }
                ]
            }
        },
        "/api/v1/invoices/transmit/{irn}/confirmation": {
            "patch": {
                "tags": [
                    "Invoices"
                ],
                "summary": "Acknowledge an invoice transmission with FIRS",
                "operationId": "0a12a950bb6638ebe32a53ec01f1958a",
                "parameters": [
                    {
                        "name": "irn",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "agent_id",
                                    "base_amount",
                                    "beneficiary_tin",
                                    "currency",
                                    "item_description",
                                    "irn",
                                    "total_amount",
                                    "transaction_date",
                                    "integrator_service_id",
                                    "vat_calculated",
                                    "vat_rate",
                                    "vat_status"
                                ],
                                "properties": {
                                    "agent_id": {
                                        "type": "string",
                                        "example": "01060087-0001"
                                    },
                                    "base_amount": {
                                        "type": "string",
                                        "example": "100000.00"
                                    },
                                    "beneficiary_tin": {
                                        "type": "string",
                                        "example": "01060087-0001"
                                    },
                                    "currency": {
                                        "type": "string",
                                        "example": "NGN"
                                    },
                                    "item_description": {
                                        "type": "string",
                                        "example": "Items"
                                    },
                                    "irn": {
                                        "type": "string",
                                        "example": "1234567890"
                                    },
                                    "other_taxes": {
                                        "type": "string",
                                        "example": "5000.00"
                                    },
                                    "total_amount": {
                                        "type": "string",
                                        "example": "112500.00"
                                    },
                                    "transaction_date": {
                                        "type": "string",
                                        "format": "date",
                                        "example": "2024-11-18"
                                    },
                                    "integrator_service_id": {
                                        "type": "string",
                                        "example": "772392"
                                    },
                                    "vat_calculated": {
                                        "type": "string",
                                        "example": "7500.00"
                                    },
                                    "vat_rate": {
                                        "type": "string",
                                        "example": "7.5"
                                    },
                                    "vat_status": {
                                        "type": "string",
                                        "example": "STANDARD_VAT"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Invoice acknowledgment submitted successfully",
                        "content": {
                            "application/json": {
                                "schema": {},
                                "example": {
                                    "code": 200,
                                    "data": {
                                        "status": "acknowledged",
                                        "irn": "1234567890"
                                    },
                                    "message": "Invoice acknowledgment sent to FIRS successfully."
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation error or FIRS acknowledgment failed",
                        "content": {
                            "application/json": {
                                "schema": {},
                                "example": {
                                    "code": 422,
                                    "message": "Failed to acknowledge invoice with FIRS",
                                    "errors": []
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    },
                    {
                        "ApiKeyAuth": []
                    }
                ]
            }
        },
        "/api/v1/resources/invoice-types": {
            "get": {
                "tags": [
                    "Resources"
                ],
                "summary": "Get available invoice types",
                "description": "Fetch a list of invoice types available from FIRS.",
                "operationId": "080cc0992bc7df070bdfc95d663f46ff",
                "responses": {
                    "200": {
                        "description": "List of invoice types successfully retrieved",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Failed to fetch invoice types"
                    }
                }
            }
        },
        "/api/v1/resources/payment-means": {
            "get": {
                "tags": [
                    "Resources"
                ],
                "summary": "Get available payment means",
                "description": "Fetch a list of available payment means from FIRS.",
                "operationId": "36f87295c1c4f052d8075369651842a1",
                "responses": {
                    "200": {
                        "description": "List of payment means successfully retrieved",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Failed to fetch payment means"
                    }
                }
            }
        },
        "/api/v1/resources/tax-categories": {
            "get": {
                "tags": [
                    "Resources"
                ],
                "summary": "Get available tax categories",
                "description": "Fetch all tax categories available in FIRS.",
                "operationId": "20adcd80eb5f27e431261fb499e42b03",
                "responses": {
                    "200": {
                        "description": "List of tax categories successfully retrieved",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Failed to fetch tax categories"
                    }
                }
            }
        },
        "/api/v1/resources/tin/{tin_number}": {
            "get": {
                "tags": [
                    "Resources"
                ],
                "summary": "Lookup taxpayer by TIN",
                "description": "Retrieve taxpayer details by Tax Identification Number (TIN).",
                "operationId": "8a93ac0556ea96d18255d5d75379b190",
                "parameters": [
                    {
                        "name": "tin_number",
                        "in": "path",
                        "description": "Taxpayer Identification Number",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "example": "12345678-0001"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Taxpayer details successfully retrieved",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "TIN not found"
                    },
                    "500": {
                        "description": "Failed to fetch TIN details"
                    }
                }
            }
        },
        "/api/v1/resources/entity/{entity_id}": {
            "get": {
                "tags": [
                    "Resources"
                ],
                "summary": "Retrieve entity details by ID",
                "description": "Fetch entity details using its unique identifier.",
                "operationId": "510509974fe361bc23e1aa467ea163b2",
                "parameters": [
                    {
                        "name": "entity_id",
                        "in": "path",
                        "description": "The FIRS entity ID",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "example": "abc123xyz"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Entity details successfully retrieved",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Entity not found"
                    },
                    "500": {
                        "description": "Failed to fetch entity details"
                    }
                }
            }
        },
        "/api/v1/tenants": {
            "get": {
                "tags": [
                    "Tenants"
                ],
                "summary": "List tenants",
                "operationId": "ecdcbead50d125c4b12481610d57743f",
                "responses": {
                    "200": {
                        "description": "List of tenants"
                    }
                }
            },
            "post": {
                "tags": [
                    "Tenants"
                ],
                "summary": "Create a tenant",
                "operationId": "2793b124cd408d94ae8125f0b9fba2ab",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "name"
                                ],
                                "properties": {
                                    "name": {
                                        "type": "string",
                                        "example": "Acme Corp"
                                    },
                                    "brand": {
                                        "type": "string",
                                        "example": "Acme"
                                    },
                                    "domain": {
                                        "type": "string",
                                        "example": "acme.com"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "List of tenants",
                        "content": {
                            "application/json": {
                                "schema": {},
                                "example": {
                                    "message": "Tenants retrieved successfully",
                                    "success": true,
                                    "data": [
                                        {
                                            "id": 1,
                                            "name": "Acme Corp",
                                            "brand": "Acme",
                                            "domain": "acme.com"
                                        }
                                    ]
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/v1/tenants/{tenant}": {
            "get": {
                "tags": [
                    "Tenants"
                ],
                "summary": "Get tenant details",
                "operationId": "af71e62208eeae134a2159402cd1b2d3",
                "parameters": [
                    {
                        "name": "tenant",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Tenant details",
                        "content": {
                            "application/json": {
                                "schema": {},
                                "example": {
                                    "message": "Tenant retrieved successfully",
                                    "success": true,
                                    "data": {
                                        "id": 1,
                                        "name": "Acme Corp",
                                        "brand": "Acme",
                                        "domain": "acme.com"
                                    }
                                }
                            }
                        }
                    }
                }
            }
        }
    },
    "components": {
        "securitySchemes": {
            "sanctum": {
                "type": "apiKey",
                "description": "Enter token in format (Bearer <token>)",
                "name": "Authorization",
                "in": "header"
            },
            "apiKey": {
                "type": "apiKey",
                "description": "API key for authentication",
                "name": "X-API-KEY",
                "in": "header"
            },
            "ApiKeyAuth": {
                "type": "apiKey",
                "description": "Use your API key in header",
                "name": "X-API-KEY",
                "in": "header"
            }
        }
    },
    "tags": [
        {
            "name": "Auth",
            "description": "Auth"
        },
        {
            "name": "Buyer",
            "description": "Buyer"
        },
        {
            "name": "Invoices",
            "description": "Invoices"
        },
        {
            "name": "Resources",
            "description": "Resources"
        },
        {
            "name": "Tenants",
            "description": "Tenants"
        }
    ]
}